---
title: From Terrazzo
description: Migrate from Terrazzo to Dispersa — a smoother transition since both are DTCG-native.
sidebar:
  order: 2
---

import { LinkCard } from '@astrojs/starlight/components'

## Good News

Both Terrazzo and Dispersa are DTCG-native. Your token files may work as-is — no format conversion needed.

## Concept Mapping

| Terrazzo | Dispersa | Notes |
| tokens.config.mjs | dispersa.config.ts or build script | Similar config-first approach |
| tokens glob | Resolver document | Dispersa uses explicit sets |
| Plugins (@terrazzo/plugin-css) | Builder functions (css()) | Built-in, no extra packages |
| Plugin transforms | Transform factories | dispersa/transforms |
| tz build | dispersa build | Similar CLI |
| No theming | Modifiers | DTCG resolver handles themes |
| outDir | buildPath | |

## Config Migration

**Before (Terrazzo):**

```javascript
import pluginCSS from '@terrazzo/plugin-css'

export default {
  tokens: ['./tokens.json'],
  outDir: './dist/',
  plugins: [
    pluginCSS({
      fileName: 'tokens.css',
    }),
  ],
}
```

**After (Dispersa):**

```typescript
import { defineConfig } from 'dispersa/config'
import { css } from 'dispersa'
import { colorToHex, nameKebabCase } from 'dispersa/transforms'

export default defineConfig({
  resolver: './tokens.resolver.json',
  buildPath: './dist',
  outputs: [
    css({
      name: 'css',
      file: 'tokens.css',
      preset: 'bundle',
      transforms: [nameKebabCase(), colorToHex()],
    }),
  ],
})
```

## The Main Addition: Resolver Document

Terrazzo uses `tokens.json` directly. Dispersa uses a **resolver document** that references your token files. This is the main structural change.

Create `tokens.resolver.json`:

```json
{
  "version": "2025.10",
  "sets": {
    "base": {
      "sources": [{ "$ref": "./tokens.json" }]
    }
  },
  "resolutionOrder": [{ "$ref": "#/sets/base" }]
}
```

If you have multiple token files, add more sources or sets as needed.

## Plugin Mapping

| Terrazzo Plugin | Dispersa Builder |
| @terrazzo/plugin-css | css() |
| @terrazzo/plugin-js | js() |
| @terrazzo/plugin-json | json() |
| @terrazzo/plugin-sass | Custom renderer (SCSS) |
| @terrazzo/plugin-tailwind | tailwind() |

## Advantages of Migrating

- **Resolver-based theming** — Add modifiers for light/dark themes without duplicating tokens
- **Native iOS/Android output** — Built-in `ios()` and `android()` renderers
- **In-memory mode** — Resolve and build tokens programmatically without writing files
- **Lifecycle hooks** — Custom preprocessors and hooks for advanced workflows

<LinkCard
  title="DTCG Compliance Checklist"
  description="Validate your design tokens against the DTCG 2025.10 specification."
  href="/migration/dtcg-checklist/"
/>
